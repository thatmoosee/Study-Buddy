<!DOCTYPE html>
<html>
<head>
    <title>Study Buddy</title>
    <link rel="icon" type="image/x-icon" href="img/icon.png">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <main id="content" style="text-align:center; margin-top:50px;">
        <h1>Welcome to Study Buddy</h1>
        <p>Loading...</p>
    </main>

    <script>
        async function checkAuth() {
            const res = await fetch("/api/auth/status");
            const data = await res.json();

            const content = document.getElementById("content");

            // --- If logged in → redirect to profile page ---
            if (data.logged_in) {
                window.location.href = "profile.html";
                return;
            }

            // --- If not logged in → show login & register buttons ---
            content.innerHTML = `
                <h1>Welcome to Study Buddy</h1>
                <p>Please log in or create an account.</p>

                <a href="login.html">
                    <button style="padding:10px 20px; margin:10px;">Login</button>
                </a>

                <a href="register.html">
                    <button style="padding:10px 20px; margin:10px;">Register</button>
                </a>
            `;
        }

        checkAuth();
    </script>
</body>
</html>
